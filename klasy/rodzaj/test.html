<!DOCTYPE html>
<html>

<head>
    <title>Dynamiczny indeks plików</title>
</head>

<body>
    <h2>Index of Files</h2>
    <ul id="fileList"></ul>

    <script>
        const directoryPath = "./"; // Wprowadź ścieżkę do swojego katalogu

        // Funkcja generująca listę plików
        const generateFileList = (files) => {
            const listContainer = document.getElementById("fileList");
            files.forEach((file) => {
                const listItem = document.createElement("li");
                const link = document.createElement("a");
                link.textContent = file;
                link.href = directoryPath + "/" + file; // Utwórz odpowiednie linki dla każdego pliku
                listItem.appendChild(link);
                listContainer.appendChild(listItem);
            });
        };

        // Odczytaj pliki z katalogu
        fetch(directoryPath)
            .then(response => response.text())
            .then(data => {
                const parser = new DOMParser();
                const htmlDocument = parser.parseFromString(data, "text/html");
                const files = [...htmlDocument.querySelectorAll("a")].map(link => link.textContent);
                generateFileList(files);
            })
            .catch(err => console.error("Błąd odczytu katalogu: ", err));
    </script>
</body>

</html>
