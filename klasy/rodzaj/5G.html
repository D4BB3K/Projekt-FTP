<!DOCTYPE html>
<html lang="pl-PL">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Index of /~ng/klasy_5/5G</title>
  <link rel="stylesheet" type="text/css" href="../../css/style.css">
  <link rel="preload" as="image" href="../../img/home.svg">
  <link rel="preload" as="image" href="../../img/home2.svg">
  <link rel="preload" as="image" href="../../img/info.svg">
  <link rel="preload" as="image" href="../../img/info2.svg">
  <style>
    img[src$=".svg"] {
      width: 16px;
    }
  </style>
</head>

<body>

  <table id="indexlist">
    <tr class="indexhead">
      <th class="indexcolicon">&nbsp;</th>
      <th class="indexcolname"><a href="?C=N;O=D">Name</a></th>
      <th class="indexcollastmod"><a href="?C=M;O=A">Last modified</a></th>
      <th class="indexcolsize"><a href="?C=S;O=A">Size</a></th>
      <th class="indexcoldesc"><a href="?C=D;O=A">Description</a></th>
    </tr>
    <tr class="indexbreakrow">
      <th colspan="5">
        <hr />
      </th>
    </tr>
    <!--<tr class="even">
      <td class="indexcolicon">
        <img src="../../img/file-directory.svg" alt="[DIR]" width="16" height="16"/>
      </td>
      <td class="indexcolname"><a href="../../pliki/5G/">5G/</a></td>
      <td class="indexcollastmod">2007-05-15 10:24 </td>
      <td class="indexcolsize"> - </td>
      <td class="indexcoldesc">&nbsp;</td>
    </tr>
    <tr class="indexbreakrow">
      <th colspan="5">
        <hr/>
      </th>
    </tr>-->
  </table>
  <script>
    window.onload = function () {
        // Pobierz element tabeli
        const table = document.getElementById('indexlist');
    
        // Pobierz dane z serwera
        fetch('../../pliki/')
            .then(response => response.json())
            .then(files => {
                // Generuj wiersze dla każdego pliku
                files.forEach(file => {
                    const row = document.createElement('tr');
                    row.className = file.isDirectory ? 'even' : 'odd';
    
                    // Ikona
                    const iconCell = document.createElement('td');
                    iconCell.className = 'indexcolicon';
                    iconCell.innerHTML = `<img src="../../img/${file.isDirectory ? 'file-directory' : 'file'}.svg" alt="[DIR]" width="16" height="16"/>`;
                    row.appendChild(iconCell);
    
                    // Nazwa pliku
                    const nameCell = document.createElement('td');
                    nameCell.className = 'indexcolname';
                    const link = document.createElement('a');
                    link.href = file.isDirectory ? `${file.name}/` : '#'; // Dla plików nie dodawaj linku
                    link.textContent = file.name + (file.isDirectory ? '/' : '');
                    nameCell.appendChild(link);
                    row.appendChild(nameCell);
    
                    // Ostatnia modyfikacja
                    const lastModCell = document.createElement('td');
                    lastModCell.className = 'indexcollastmod';
                    lastModCell.textContent = file.lastModified;
                    row.appendChild(lastModCell);
    
                    // Rozmiar
                    const sizeCell = document.createElement('td');
                    sizeCell.className = 'indexcolsize';
                    sizeCell.textContent = file.isDirectory ? '-' : file.size;
                    row.appendChild(sizeCell);
    
                    // Opis
                    const descCell = document.createElement('td');
                    descCell.className = 'indexcoldesc';
                    descCell.innerHTML = '&nbsp;';
                    row.appendChild(descCell);
    
                    // Dodaj wiersz do tabeli
                    table.appendChild(row);
                });
            })
            .catch(error => {
                console.error(error);
            });
    };
    </script>
    
  <!--<script src="../../script/main.js"></script>-->
</body>

</html>